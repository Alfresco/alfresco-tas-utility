<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="TAS-Suite" parallel="classes" preserve-order="true" thread-count="3">
	<listeners>
		<listener class-name="org.alfresco.utility.report.HtmlReportListener"></listener>
		<!-- <listener class-name="org.alfresco.utility.testrail.TestRailExecutorListener"></listener> -->
	</listeners>	
	<test name="TAS">
		<method-selectors>
			<!-- -DincludeGroups=sanity,comments,people -DexcludeGroups=networks,othergroup -DrunBugs=true -DupdateTestRail=true-->
			<method-selector>
				<script language="beanshell"><![CDATA[
                runTest = false;
                groupIn = System.getProperty("includeGroups");
                groupNotIn = System.getProperty("excludeGroups");
                
                if ((groupIn == null) || (groupIn == "")) {
                    runTest = false;
                } else {
                	
                	runBugs = System.getProperty("runBugs");
                	if((runBugs != null) || (runBugs == "true"))
                	{
                		bugAnnotated = method.getAnnotation(org.alfresco.utility.report.Bug.class);
                		if (bugAnnotated != null)
                			{
                	  		return false;
                			}
                	}
                	
                    StringTokenizer groupsTagList = new StringTokenizer(groupIn, ",");
                    runTest = true;
 
                    while (groupsTagList.hasMoreTokens()) {
                      if (!(groups.containsKey(groupsTagList.nextToken())))
                        runTest = false;
                    }
 
                    if (runTest && (groupNotIn != null) && (groupNotIn != "")) {
                        StringTokenizer groupsNotInList = new StringTokenizer(groupNotIn, ",");
 
                        while (groupsNotInList.hasMoreTokens()) {
                           if ((groups.containsKey(groupsNotInList.nextToken())))
                             runTest = false;
                        }
                     }
                }
                return runTest;
                ]]>
				</script>
			</method-selector>
		</method-selectors>
		<packages>
			<package name="org.alfresco.*" />
		</packages>

	</test> <!-- Test -->
</suite> <!-- Suite -->
